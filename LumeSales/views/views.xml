<odoo>
  <data>
    <record id="res_partner_inherit" model="ir.ui.view">
      <field name="name">res.partner.inherit</field>
      <field name="model">res.partner</field>
      <field name="inherit_id" ref="base.view_partner_form"/>
      <field name="arch" type="xml">
        <xpath expr="//form//sheet" position="before">
            <header>
                <!-- <button name="%(scan_dl_wizard)d" string="Scan DL" type="action" class="btn-primary"/> -->
            </header>
        </xpath>
        <field name="vat" position="after">
          <field name="is_medical" string="Is Medical"/>
          <field name="medical_id" string="MMM ID"/>
          <field name="medical_expiration" string="MM Exp"/>
          <field name="date_of_birth" string="DOB"/>
          <field name="is_over_21" string="21+"/>
          <field name="drivers_license_number" string="Drivers #"/>
          <field name="drivers_license_expiration" string="DL Expiration"/>
          <button name="warn" string="Issue Warning" type="object" class="btn btn-primary" />
          <field name="is_banned" invisible="1"/>
          <field name="warnings" invisible="1"/>
          <div>
            <div role="img" id="oe_hr_attendance_status" class="fa fa-fw fa-circle o_button_icon" style="color: gold;" attrs="{'invisible': [('warnings', '&lt;', '1')]}" aria-label="Warning 1" title="Warning 1"/>
            <div role="img" id="oe_hr_attendance_status" class="fa fa-fw fa-circle o_button_icon" style="color: orange;" attrs="{'invisible': [('warnings', '&lt;', '2')]}" aria-label="Warning 2" title="Warning 2"/>
            <div role="img" id="oe_hr_attendance_status" class="fa fa-fw fa-circle o_button_icon" style="color: red;" attrs="{'invisible': [('warnings', '&lt;', '3')]}" aria-label="Warning 3" title="Warning 3"/>
          </div>
        </field>
        <field name="image_1920" position="before">
          <widget name="web_ribbon" title="Banned" bg_color="bg-danger" attrs="{'invisible': [('is_banned', '=', False)]}"/>
        </field>
      </field>
    </record>

<!-- Kanban View for tasks -->
    <record id="view_project_task_kanban_inherit" model="ir.ui.view">
      <field name="name">project.task.inherit</field>
      <field name="model">project.task</field>
      <field name="inherit_id" ref="project.view_task_kanban"/>
      <field name="arch" type="xml">
        <xpath expr="/kanban/templates/t/div//div[@class='oe_kanban_content']" position="after">
          <field name="partner_id" widget="res_partner_many2one"/>
          <br/>
          <span class="o_MessagingMenu_icon fa fa-comments"></span>
          <field name="message_unread_counter" widget="count_counter"/>
          <field name="timer_start" widget="timer_timer"/>
          <script defer="defer">
            $("[name='timer_start']").addClass("o_readonly_modifier text-danger ml-auto h5 ml-4 font-weight-bold");
            //$("[name='message_unread_counter']").addClass("o_MessagingMenu_counter badge badge-pill");// Doesn't work because a nameless span is generated by the field.
          </script>
        </xpath>
      </field>
    </record>
    <!-- Quick Create task menu -->
    <record id="view_project_kanban_quick_create_inherit" model="ir.ui.view">
      <field name="name">project.task.quick_create.inherit</field>
      <field name="model">project.task</field>
      <field name="inherit_id" ref="project.quick_create_task_form"/>
      <field name="type">form</field>
      <field name="arch" type="xml">
        <field name="name" position="before">
          <button name="%(scan_dl_wizard)d" string="Scan DL" type="action" class="btn-primary"/>
        </field>
        <field name="name" position="after">
          <field name="partner_id"/>
        </field>
      </field>
    </record>

    <!-- Task Form View -->
    <record id="view_task_form_inherit" model="ir.ui.view">
      <field name="name">task.form.inherit</field>
      <field name="model">project.task</field>
      <field name="inherit_id" ref="project.view_task_form2"/>
      <field name="type">form</field>
      <field name="arch" type="xml">
        <field name="partner_id" position="after">
          <field name="sales_order" string="Sales Order" attrs="{'invisible':[('sales_order', '=', False)]}"/>
          <field name="dummy_field" invisible="1"/>
          <field name="message_unread_counter" />
          <field name="message_unread"/>
        </field>
      </field>
    </record>

    <!-- Project Form View -->
    <record id="view_project_form_inherit" model="ir.ui.view">
      <field name="name">project.form.inherit</field>
      <field name="model">project.project</field>
      <field name="inherit_id" ref="project.edit_project"/>
      <field name="type">form</field>
      <field name="arch" type="xml">
        <field name="partner_id" position="after">
          <field name="store"/>
        </field>
      </field>
    </record>

    <!-- Project Search View -->
    <record id="view_project_search_inherit" model="ir.ui.view">
      <field name="name">project.search.inherit</field>
      <field name="model">project.project</field>
      <field name="inherit_id" ref="project.view_project_project_filter"/>
      <!-- <field name="type">search</field> -->
      <field name="arch" type="xml">
        <xpath expr="//search/filter" position="before">
          <filter string="My Store" name="my_store_projects" domain="[('store.user_ids.id','=',uid)]"/>
        </xpath>
      </field>
    </record>

    <!-- Store View -->
    <record id="view_store_form" model="ir.ui.view">
      <field name="name">store.form</field>
      <field name="model">lume.store</field>
      <field name="type">form</field>
      <field name="arch" type="xml">
        <form string="Store">
          <header>
          </header>
          <sheet>
            <group>
              <h1>
                <field name="name" string="Store Name" class="o_field_char o_field_widget o_required_modifier"/>
              </h1>
              <field name="user_ids" string="Users" readonly="1"/>
            </group>
            <group>

            </group>
          </sheet>
        </form>
      </field>
    </record>

    <record id="view_store_tree" model="ir.ui.view">
      <field name="name">store.tree</field>
      <field name="model">lume.store</field>
      <field name="arch" type="xml">
          <tree string="Store">
              <field name="name"/>
          </tree>
      </field>
    </record>

    <!-- Your Action Window Definition -->
    <record id="store_window_action" model="ir.actions.act_window">
        <field name="name">Store</field>
        <field name="res_model">lume.store</field>
        <!-- <field name="view_type">form</field> -->
        <field name="view_mode">list,form</field>
    </record>

    <!-- App icon on front page -->
    <menuitem id="store_root" name="Store" sequence="10" action="store_window_action"/>


    <!-- User Form View -->
    <record id="view_res_users_form_inherit" model="ir.ui.view">
      <field name="name">res.users.inherit</field>
      <field name="model">res.users</field>
      <field name="inherit_id" ref="hr.res_users_view_form_simple_modif"/>
      <field name="type">form</field>
      <field name="arch" type="xml">
        <field name="work_location" position="after">
          <field name="store" widget="many2many_tags"/>
        </field>
      </field>
    </record>

    <!-- Sale Order Form View -->
    <record id="view_sale_order_form_inherit" model="ir.ui.view">
      <field name="name">sale.order.inherit</field>
      <field name="model">sale.order</field>
      <field name="inherit_id" ref="sale.view_order_form"/>
      <field name="type">form</field>
      <field name="arch" type="xml">
        <!-- Custom fields here -->
        <field name="payment_term_id" position="after">
          <field name="task" string="Task" attrs="{'invisible':[('task', '=', False)]}"/>
        </field>
      </field>
    </record>

    <!-- Product Additions -->
    <record id="product_template_inherit" model="ir.ui.view">
      <field name="name">product.template.product.form</field>
      <field name="model">product.template</field>
      <field name="inherit_id" ref="product.product_template_only_form_view"/>
      <field name="arch" type="xml">
        <field name="barcode" position="after">
          <field name="is_medical" string="Is Medical Product" />
        </field>
      </field>
    </record>


    <record id="view_project_kanban_lume_inherit" model="ir.ui.view">
            <field name="name">project.project.lume.kanban.inherit</field>
            <field name="model">project.project</field>
            <field name="inherit_id" ref="project.view_project_kanban"/>
            <field name="arch" type="xml">
                <xpath expr="//kanban" position="after">
                    <field name="store"/>
                </xpath>
                <!-- <xpath expr="//kanban/templates//div[@class='o_project_kanban_main']" position="inside">
                    <t t-if="store.user_ids.id == uid">
                        <div class="o_kanban_card_content">
                            <div class="o_kanban_primary_left">
                                <div class="o_primary">
                                    <span><t t-esc="record.name.value"/></span>
                                    <span t-if="record.partner_id.value">
                                        <strong><t t-esc="record.partner_id.value"/></strong>
                                    </span>
                                </div>
                                <div t-if="record.alias_name.value and record.alias_domain.value">
                                    <span><i class="fa fa-envelope" role="img" aria-label="Domain Alias" title="Domain Alias"></i> <a t-att-href="'mailto:' + record.alias_id.value" title="Send an email"><t t-esc="record.alias_id.value"/></a></span>
                                </div>
                                <div t-if="record.rating_active.raw_value" class="mt8 text-primary" title="Percentage of happy ratings over the past 30 days." groups="project.group_project_rating">
                                    <b>
                                        <a name="action_view_all_rating" type="object" context="{'search_default_rating_last_30_days':1}">
                                            <t t-if="record.rating_percentage_satisfaction.value != -1">
                                                <i class="fa fa-smile-o" role="img" aria-label="Percentage of satisfaction" title="Percentage of satisfaction"/> <t t-esc="record.rating_percentage_satisfaction.value"/>%
                                            </t>
                                        </a>
                                    </b>
                                </div>
                            </div>
                        </div>
                        <div class="o_kanban_card_manage_pane dropdown-menu" groups="project.group_project_manager" role="menu">
                            <div class="o_kanban_card_manage_section o_kanban_manage_reports">
                                <div role="menuitem">
                                    <a name="%(portal.portal_share_action)d" type="action">Share</a>
                                </div>
                                <div role="menuitem">
                                    <a type="edit">Edit</a>
                                </div>
                            </div>
                            <div role="menuitem" aria-haspopup="true" class="o_no_padding_kanban_colorpicker">
                                <ul class="oe_kanban_colorpicker" data-field="color" role="popup"/>
                            </div>
                        </div>
                        <a class="o_kanban_manage_toggle_button o_left" href="#" groups="project.group_project_manager"><i class="fa fa-ellipsis-v" role="img" aria-label="Manage" title="Manage"/></a>
                        <span class="o_right"><field name="is_favorite" widget="boolean_favorite" nolabel="1" force_save="1" /></span>
                    </t>
                </xpath> -->
            </field>
        </record>
  </data>
</odoo>
