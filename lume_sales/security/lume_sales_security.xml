<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="0">
        <record model="ir.module.category" id="module_category_lume">
            <field name="name">Lume</field>
            <field name="description">Helps you handle Lume Intgeration.</field>
        </record>

        <record id = "group_lume_associate" model = "res.groups">
            <field name="name">Associate</field>
            <field name="implied_ids" eval="[(4, ref('base.group_user')), (4, ref('project.group_project_user')), (4, ref('sales_team.group_sale_salesman')), (4, ref('point_of_sale.group_pos_user')), (4, ref('stock.group_stock_user')),]"/>
            <field name="category_id" ref="lume_sales.module_category_lume"/>
        </record>

        <record id = "group_lume_store_manager" model = "res.groups">
            <field name="name">Store Manager</field>
            <field name="implied_ids" eval="[(4, ref('lume_sales.group_lume_associate'))]"/>
            <field name="category_id" ref="lume_sales.module_category_lume"/>
        </record>

        <record id = "group_lume_area_manager" model = "res.groups">
            <field name="name">Area Manager</field>
            <field name="implied_ids" eval="[(4, ref('lume_sales.group_lume_store_manager'))]"/>
            <field name="category_id" ref="lume_sales.module_category_lume"/>
        </record>

        <record id = "group_lume_corporate" model = "res.groups">
            <field name="name">Corporate User</field>
            <field name="implied_ids" eval="[(4, ref('lume_sales.group_lume_area_manager'))]"/>
            <field name="category_id" ref="lume_sales.module_category_lume"/>
        </record>

        <!-- Menu Permissions -->

        <!-- <record model="ir.ui.menu" id="project.project">
            <field name="name">Project</field>
            <field eval="[(6,0,[ref('lume_sales.group_lume_associate')])]" name="groups_id"/>
        </record> -->

        <!-- Access Rules -->

        <record id = "store_limited_visibility_sale_order" model = "ir.rule">
            <field name = "name">User can only see sales orders associated to their assigned stores. </field>
            <field name = "model_id" ref = "sale.model_sale_order" />
            <field name = "groups" eval = "[(4, ref('group_lume_associate'))]" />
            <field name = "domain_force"> [["task.project_id.allowed_internal_user_ids","ilike",uid]] </field>
        </record>

        <record id = "store_limited_visibility_pick_order" model = "ir.rule">
            <field name = "name">User can only see sales orders associated to their assigned stores. </field>
            <field name = "model_id" ref = "stock.model_stock_transfer" />
            <field name = "groups" eval = "[(4, ref('group_lume_associate'))]" />
            <field name = "domain_force"> [["sale_id.task.project_id.allowed_internal_user_ids","ilike",uid]] </field>
        </record>

        <record id = "store_limited_visibility_pos_register" model = "ir.rule">
            <field name = "name">User can only see sales orders associated to their assigned stores. </field>
            <field name = "model_id" ref = "point_of_sale.model_pos_config" />
            <field name = "groups" eval = "[(4, ref('group_lume_associate'))]" />
            <field name = "domain_force"> [["project_id.allowed_internal_user_ids","ilike",uid]] </field>
        </record>

    </data>
</odoo>